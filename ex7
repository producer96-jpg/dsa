#include <iostream>
#include <string>
using namespace std;
struct Node {
    int prn;
    string name;
    Node* next;
};
class Club {
    Node* head;
public:
    Club() {
        head = nullptr;
    }
    void addPresident(int prn, string name) {
        Node* newNode = new Node{prn, name, nullptr};
        if (head != nullptr) {
            newNode->next = head;
        }
        head = newNode;
        cout << "President added successfully.\n";
    }
    void addSecretary(int prn, string name) {
        Node* newNode = new Node{prn, name, nullptr};
        if (head == nullptr) {
            head = newNode;
            return;
        }
        Node* temp = head;
        while (temp->next != nullptr) {
            temp = temp->next;
        }
        temp->next = newNode;
        cout << "Secretary added successfully.\n";
    }
    void addMember(int prn, string name) {
        if (head == nullptr) {
            cout << "Add President first!\n";
            return;
        }
        Node* newNode = new Node{prn, name, nullptr};
        Node* temp = head;
        while (temp->next != nullptr && temp->next->next != nullptr) {
            temp = temp->next;
        }
        newNode->next = temp->next;
        temp->next = newNode;
        cout << "Member added successfully.\n";
    }
    void deletePresident() {
        if (head == nullptr) {
            cout << "No members to delete.\n";
            return;
        }
        Node* temp = head;
        head = head->next;
        delete temp;
        cout << "President deleted successfully.\n";
    }
    void deleteSecretary() {
        if (head == nullptr) {
            cout << "No members to delete.\n";
            return;
        }
        Node* temp = head;
        Node* prev = nullptr;
        while (temp->next != nullptr) {
            prev = temp;
            temp = temp->next;
        }
        if (prev != nullptr)
            prev->next = nullptr;
        else
            head = nullptr;
        delete temp;
        cout << "Secretary deleted successfully.\n";
    }
    void deleteMember(int prn) {
        if (head == nullptr) {
            cout << "List is empty.\n";
            return;
        }
        Node* temp = head;
        Node* prev = nullptr;

        while (temp != nullptr && temp->prn != prn) {
            prev = temp;
            temp = temp->next;
        }
        if (temp == nullptr) {
            cout << "Member with PRN " << prn << " not found.\n";
            return;
        }
        if (prev == nullptr) { 
            head = temp->next;
        } else {
            prev->next = temp->next;
        }
        delete temp;
        cout << "Member deleted successfully.\n";
    }
    void display() {
        if (head == nullptr) {
            cout << "No members in the club.\n";
            return;
        }
        Node* temp = head;
        cout << "\n--- Club Members ---\n";
        cout << "PRN\tName\t\tPosition\n";
        int count = 1;
        while (temp != nullptr) {
            if (temp == head)
                cout << temp->prn << "\t" << temp->name << "\t(President)\n";
            else if (temp->next == nullptr)
                cout << temp->prn << "\t" << temp->name << "\t(Secretary)\n";
            else
                cout << temp->prn << "\t" << temp->name << "\t(Member)\n";
            temp = temp->next;
            count++;
        }
    }
    int countMembers() {
        int count = 0;
        Node* temp = head;
        while (temp != nullptr) {
            count++;
            temp = temp->next;
        }
        return count;
    }
    void concatenate(Club& other) {
        if (head == nullptr) {
            head = other.head;
        } else {
            Node* temp = head;
            while (temp->next != nullptr) {
                temp = temp->next;
            }
            temp->next = other.head;
        }
        other.head = nullptr;
        cout << "Lists concatenated successfully.\n";
    }
};
int main() {
    Club divA, divB, result;
    int choice, prn;
    string name;
    while (true) {
        cout << "\n\n------ Club Management ------";
        cout << "\n1. Add President";
        cout << "\n2. Add Secretary";
        cout << "\n3. Add Member";
        cout << "\n4. Delete President";
        cout << "\n5. Delete Secretary";
        cout << "\n6. Delete Member";
        cout << "\n7. Display Members";
        cout << "\n8. Count Members";
        cout << "\n9. Concatenate Two Divisions";
        cout << "\n10. Exit";
        cout << "\nEnter your choice: ";
        cin >> choice;
        switch (choice) {
            case 1:
                cout << "Enter PRN and Name of President: ";
                cin >> prn >> name;
                divA.addPresident(prn, name);
                break;
            case 2:
                cout << "Enter PRN and Name of Secretary: ";
                cin >> prn >> name;
                divA.addSecretary(prn, name);
                break;
            case 3:
                cout << "Enter PRN and Name of Member: ";
                cin >> prn >> name;
                divA.addMember(prn, name);
                break;
            case 4:
                divA.deletePresident();
                break;
            case 5:
                divA.deleteSecretary();
                break;
            case 6:
                cout << "Enter PRN of member to delete: ";
                cin >> prn;
                divA.deleteMember(prn);
                break;
            case 7:
                divA.display();
                break;
            case 8:
                cout << "Total members: " << divA.countMembers() << endl;
                break;
            case 9:
                cout << "\n--- Enter Division B Members ---\n";
                divB.addPresident(201, "Riya");
                divB.addMember(202, "Sam");
                divB.addSecretary(203, "John");
                divA.concatenate(divB);
                cout << "After concatenation:\n";
                divA.display();
                break;
            case 10:
                cout << "Exiting program.\n";
                return 0;
            default:
                cout << "Invalid choice.\n";
        }
    }
}
